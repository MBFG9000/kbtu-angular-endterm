<section class="sneakers-page">


  <div class="catalog">
    <div class="catalog__head">
      <div>
        <h2>Trending catalog</h2>
        <p>{{ anime.length }} titles powered by Jikan.</p>
      </div>
      <div class="catalog__side">
        <span class="catalog__chip">Jikan v4 · Live data</span>
        <label class="search-field">
          <span class="sr-only">Search anime</span>
          <input
            #searchInput
            type="search"
            [value]="searchQuery"
            (input)="handleSearch(searchInput.value)"
            placeholder="Search by title"
          />
        </label>
      </div>
    </div>

    @if (loading) {
      <div class="state-card">Loading anime…</div>
    } @else if (errorMessage) {
      <div class="state-card state-card--error">{{ errorMessage }}</div>
    } @else if (!anime.length) {
      <div class="state-card state-card--muted">
        No anime found
        @if (searchQuery) {
          <span>&nbsp;for “{{ searchQuery }}”.</span>
        } @else {
          <span>. Try adjusting your search.</span>
        }
      </div>
    } @else {
      <div class="anime-grid">
        @for (a of anime | slice:0:12; track a.mal_id) {
          <app-sneaker-card-sm [anime]="a"></app-sneaker-card-sm>
        }
      </div>
    }
  </div>
</section>
